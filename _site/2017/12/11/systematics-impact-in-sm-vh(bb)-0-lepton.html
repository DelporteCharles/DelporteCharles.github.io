<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Systematics impact in SM VH(bb) 0-lepton</title>
  <meta name="description" content="Purpose Reduce the impact of systematics in the cut-based analysis prioritarily Dominant systematics are b-Tagging and modelling ones consist of a different ...">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="/2017/12/11/systematics-impact-in-sm-vh(bb)-0-lepton.html">
  <link rel="alternate" type="application/rss+xml" title="My PhD notes" href="/feed.xml">
  
  
</head>


  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">
    
    
    <a class="site-title" href="/">My PhD notes</a>
  
    
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          
            
            
          
            
            
            <a class="page-link" href="/about/">About</a>
            
          
            
            
          
            
            
          
            
            
          
        </div>
      </nav>
    
  </div>
</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Systematics impact in SM VH(bb) 0-lepton</h1>
    <p class="post-meta">
      <time datetime="2017-12-11T00:00:00+01:00" itemprop="datePublished">
        
        Dec 11, 2017
      </time>
      </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <h1 id="purpose">Purpose</h1>
<ul>
  <li>Reduce the impact of systematics in the cut-based analysis prioritarily</li>
  <li>Dominant systematics are b-Tagging and modelling ones
    <ul>
      <li>consist of a different weighting strategy to cover shape variations of relevant variables : pTV, mBB</li>
    </ul>
  </li>
</ul>

<p>Ranking of systematics in the SM VH(bb) 0-lepton only fit MVA (prefit and post-fit unconditional, p.179 of supporting note)
<img src="/images/q/ECDDF009C81122E936C23BED91A73A2D.jpg" alt="IMAGE" /></p>
<h2 id="zjets-ptv">Zjets pTV</h2>
<ul>
  <li>reweight events as a function of TruthMET computed from leptons/neutrinos
    <ul>
      <li>https://gitlab.cern.ch/CxAODFramework/CxAODReader_VHbb/blob/master/Root/AnalysisReader_VHbb.cxx#L393</li>
      <li>https://gitlab.cern.ch/CxAODFramework/CorrsAndSysts/blob/master/Root/CorrsAndSysts.cxx#L1444</li>
    </ul>
  </li>
  <li><strong>Do these plots as a function of TruthMET or MET ?</strong>
)</li>
  <li>Up variation, reweighting SF vs MET
<img src="/images/q/DA1AE92762CBE86C0F3D53D2AC647B96.jpg" alt="IMAGE" /></li>
  <li>Down variation, reweighting SF vs MET
<img src="/images/q/9282B86588A50CF28751CBFD48B629DC.jpg" alt="IMAGE" /></li>
  <li>Up/Down variations, reweighting SF vs MVA
<img src="/images/q/7773CD3F4B21AC5DC4212E8A153005F4.jpg" alt="IMAGE" /></li>
  <li>Profiles
<img src="/images/q/2EDED551C4F4D8D052D8578F76FDD212.jpg" alt="IMAGE" /></li>
  <li>MVA vs MET
<img src="/images/q/6573E20A8A1AAA077A5E9DC1FFDE2A45.jpg" alt="IMAGE" />
    <h2 id="zjets-mbb-shape">Zjets mBB shape</h2>
  </li>
  <li>reweight events as a function of the reco mBB
    <ul>
      <li>https://gitlab.cern.ch/CxAODFramework/CxAODReader_VHbb/blob/master/Root/AnalysisReader_VHbb0Lep.cxx#L607</li>
      <li>https://gitlab.cern.ch/CxAODFramework/CorrsAndSysts/blob/master/Root/CorrsAndSysts.cxx#L1459
)</li>
    </ul>
  </li>
  <li>Up/down variation, reweighting SF vs mBB
<img src="/images/q/63EA67695E343272CA2DEA3A7035F429.jpg" alt="IMAGE" /></li>
  <li>Up/down variation, reweighting SF vs mBB
    <ul>
      <li>SF is close to one, so it has a small impact in the prefit ranking</li>
      <li>this NP is largely pulled (almost 1 sigma up), so the impact of the down variation makes it highly ranked in the unconditionnal fit ?
<img src="/images/q/18AE93AEDA29C4A631FA2D82167E7298.jpg" alt="IMAGE" /></li>
    </ul>
  </li>
  <li>X-Profile
<img src="/images/q/41E1F3C5CDD1DC11B4B056EC32B3E429.jpg" alt="IMAGE" /></li>
  <li>Y-Profile
<img src="/images/q/29F19AAA2109D031A4F80DB8F3A21AB5.jpg" alt="IMAGE" /></li>
  <li>Variation with respect to nominal in 2jets
<img src="/images/q/C350E53809079A984D6FB9AAA5267844.jpg" alt="IMAGE" /></li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">TH1F <span class="k">*</span>hNo <span class="o">=</span> new TH1F<span class="o">(</span><span class="s2">"hNo"</span>, <span class="s2">"Nominal"</span>, 20, 0, 500<span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />TH1F <span class="k">*</span>hDo <span class="o">=</span> new TH1F<span class="o">(</span><span class="s2">"hDo"</span>, <span class="s2">"Down"</span>, 20, 0, 500<span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />TH1F <span class="k">*</span>hUp <span class="o">=</span> new TH1F<span class="o">(</span><span class="s2">"hUp"</span>, <span class="s2">"Up"</span>, 20, 0, 500<span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" />Nominal-&gt;Draw<span class="o">(</span><span class="s2">"mBB&gt;&gt;hNo"</span>,<span class="s2">"EventWeight*(nTags==2)*(nJ==2)*(mBB&lt;500)"</span><span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />Nominal-&gt;Draw<span class="o">(</span><span class="s2">"mBB&gt;&gt;hDo"</span>,<span class="s2">"EventWeight*(nTags==2)*(nJ==2)*(mBB&lt;500)*ZMbb__1down"</span><span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />Nominal-&gt;Draw<span class="o">(</span><span class="s2">"mBB&gt;&gt;hUp"</span>,<span class="s2">"EventWeight*(nTags==2)*(nJ==2)*(mBB&lt;500)*ZMbb__1up"</span><span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" />hDo-&gt;SetLineColor<span class="o">(</span>kRed<span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />hUp-&gt;SetLineColor<span class="o">(</span>kGreen<span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" />TLegend <span class="k">*</span>leg <span class="o">=</span> new TLegend<span class="o">(</span>0.7,0.7,0.9,0.9<span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />leg-&gt;AddEntry<span class="o">(</span>hNo, <span class="s2">"Nominal"</span>, <span class="s2">"l"</span><span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />leg-&gt;AddEntry<span class="o">(</span>hDo, <span class="s2">"Down"</span>, <span class="s2">"l"</span><span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />leg-&gt;AddEntry<span class="o">(</span>hUp, <span class="s2">"Up"</span>, <span class="s2">"l"</span><span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" />hNo-&gt;DrawNormalized<span class="o">()</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />hDo-&gt;DrawNormalized<span class="o">(</span><span class="s2">"same"</span><span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />hUp-&gt;DrawNormalized<span class="o">(</span><span class="s2">"same"</span><span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" />leg-&gt;Draw<span class="o">(</span><span class="s2">"same"</span><span class="o">)</span><span class="p">;</span></code></pre></figure>

<p><img src="/images/q/48F94AB63FF897CEF87F22F4EF2BB5D3.jpg" alt="IMAGE" /></p>
<ul>
  <li>fixed normalization to 19 (number of non-empty bins)
<img src="/images/q/2937F16079DDFBD0E0C4D43E6443907E.jpg" alt="IMAGE" /></li>
  <li>zoom around mBB)</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">gStyle-&gt;SetOptStat<span class="o">(</span>0<span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" />TH1F <span class="k">*</span>hNo <span class="o">=</span> new TH1F<span class="o">(</span><span class="s2">"hNo"</span>, <span class="s2">"Nominal"</span>, 20, 0, 500<span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />TH1F <span class="k">*</span>hDo <span class="o">=</span> new TH1F<span class="o">(</span><span class="s2">"hDo"</span>, <span class="s2">"Down"</span>, 20, 0, 500<span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />TH1F <span class="k">*</span>hUp <span class="o">=</span> new TH1F<span class="o">(</span><span class="s2">"hUp"</span>, <span class="s2">"Up"</span>, 20, 0, 500<span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" />TH2F <span class="k">*</span>wDo <span class="o">=</span> new TH2F<span class="o">(</span><span class="s2">"wDo"</span>, <span class="s2">"SF Down"</span>, 20, 0, 500, 50, 0.5, 1.5<span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />TH2F <span class="k">*</span>wUp <span class="o">=</span> new TH2F<span class="o">(</span><span class="s2">"wUp"</span>, <span class="s2">"SF Up"</span>, 20, 0, 500, 50, 0.5, 1.5<span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" />Nominal-&gt;Draw<span class="o">(</span><span class="s2">"mBB&gt;&gt;hNo"</span>,<span class="s2">"EventWeight*(nTags==2)*(nJ==2)*(mBB&lt;500)"</span><span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />Nominal-&gt;Draw<span class="o">(</span><span class="s2">"mBB&gt;&gt;hDo"</span>,<span class="s2">"EventWeight*(nTags==2)*(nJ==2)*(mBB&lt;500)*ZMbb__1down"</span><span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />Nominal-&gt;Draw<span class="o">(</span><span class="s2">"mBB&gt;&gt;hUp"</span>,<span class="s2">"EventWeight*(nTags==2)*(nJ==2)*(mBB&lt;500)*ZMbb__1up"</span><span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" />Nominal-&gt;Draw<span class="o">(</span><span class="s2">"ZMbb__1down:mBB&gt;&gt;wDo"</span>,<span class="s2">"EventWeight*(nTags==2)*(nJ==2)*(mBB&lt;500)"</span><span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />Nominal-&gt;Draw<span class="o">(</span><span class="s2">"ZMbb__1up:mBB&gt;&gt;wUp"</span>,<span class="s2">"EventWeight*(nTags==2)*(nJ==2)*(mBB&lt;500)"</span><span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" />hDo-&gt;Divide<span class="o">(</span>hNo<span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />hUp-&gt;Divide<span class="o">(</span>hNo<span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" />hDo-&gt;Scale<span class="o">(</span>19./hDo-&gt;Integral<span class="o">())</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />hUp-&gt;Scale<span class="o">(</span>19./hUp-&gt;Integral<span class="o">())</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" />wDo-&gt;ProfileX<span class="o">(</span><span class="s2">"wDox"</span><span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />wUp-&gt;ProfileX<span class="o">(</span><span class="s2">"wUpx"</span><span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" />hDo-&gt;SetLineColor<span class="o">(</span>kRed<span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />hUp-&gt;SetLineColor<span class="o">(</span>kGreen<span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" />wDox-&gt;SetLineColor<span class="o">(</span>kOrange<span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />wUpx-&gt;SetLineColor<span class="o">(</span>kCyan<span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" />TLegend <span class="k">*</span>leg <span class="o">=</span> new TLegend<span class="o">(</span>0.7,0.7,0.9,0.9<span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />// leg-&gt;AddEntry<span class="o">(</span>hNo, <span class="s2">"Nominal"</span>, <span class="s2">"l"</span><span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />leg-&gt;AddEntry<span class="o">(</span>hDo, <span class="s2">"Down norm variation"</span>, <span class="s2">"l"</span><span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />leg-&gt;AddEntry<span class="o">(</span>hUp, <span class="s2">"Up norm variation"</span>, <span class="s2">"l"</span><span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />leg-&gt;AddEntry<span class="o">(</span>wDox, <span class="s2">"Down SF profile"</span>, <span class="s2">"l"</span><span class="o">)</span><br data-jekyll-commonmark-ghpages="" />leg-&gt;AddEntry<span class="o">(</span>wUpx, <span class="s2">"Up SF profile"</span>, <span class="s2">"l"</span><span class="o">)</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" />hDo-&gt;Draw<span class="o">()</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />hUp-&gt;Draw<span class="o">(</span><span class="s2">"same"</span><span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />wDox-&gt;Draw<span class="o">(</span><span class="s2">"same"</span><span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />wUpx-&gt;Draw<span class="o">(</span><span class="s2">"same"</span><span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" />leg-&gt;Draw<span class="o">(</span><span class="s2">"same"</span><span class="o">)</span><span class="p">;</span></code></pre></figure>

<h2 id="single-top-wt-acceptance">Single-top wt acceptance</h2>

<ul>
  <li>Acceptance NP is computed from the difference with respect to alternative generators (Nominal is PwPy6, alternatives are PwPy6 low/high radiation, Diagram Substraction instead of Diagram Removal, PoHe++ and Ma5He++) (page 37 of modelling note) with sum in quadrature</li>
  <li>Normalisation NP (constrained) has prior estimate based on muRmuF, alpha s and PDF uncertainties with sum in quadrature</li>
</ul>

<p>–&gt; Important table in p. 42</p>

<p>In WSMaker, what is the difference between (src/systematiclistsbuilder_vhbbrun2.cpp) :
–&gt; https://gitlab.cern.ch/atlas-physics/higgs/hbb/WSMaker/blob/master/HowTo.md#how-to-control-systematics-</p>

<ul>
  <li>normFact : unconstrained normalisation factor</li>
  <li>sampleNormSys : normalisation uncertainty delta for the background</li>
  <li>normSys : additional uncertainties on processes chosen within the constructor of the SysConfig argument. This option can be used in order to decorrelate process normalisations between different channels to an extent defined by</li>
</ul>

<p>–&gt; normSys is identical to sampleNormSys, just more convenient for decorrelating categories/channels, …
)</p>

  </div>

  
</article>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">My PhD notes</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>
            
              My PhD notes
            
            </li>
            
            <li><a href="mailto:charles.delporte@cern.ch">charles.delporte@cern.ch</a></li>
            
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          

          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>My personal notes from Quiver</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
