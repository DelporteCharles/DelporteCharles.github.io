---
layout: post
title: Rivet - TruthAOD comparison
tags: 
    - VHbb
---

# Purpose

* possible discrepancy between Rivet and TruthAOD observed https://indico.lal.in2p3.fr/event/4678/contributions/15128/attachments/12461/14706/konie25102017.pdf

## Setup

### EVGEN

* dataset : mc15_13TeV.361610.PowhegPy8EG_CT10nloME_AZNLOCTEQ6L1_ZZqqll_mqq20mll20.evgen.EVNT.e4711//EVNT.11330746._000623.pool.root.1

### RIVET



* Jets pt are exactly identical
* met is different
  * Rivet MET (in Carlo's code) has all calo inputs (to jet building) within -5 < eta < 5 + muons wi
  * TruthDAOD NonInt MET as all stable, non-interacting particles including neutrinos
  
https://twiki.cern.ch/twiki/bin/viewauth/AtlasProtected/Run2xAODMissingET#MET_Truth_container

{% highlight sh %}
RIVET jets

************************************************************************
*    Row   * EventNumb * pTB1*1.e3 *     etaB1 * pTB2*1.e3 *     etaB2 *
************************************************************************
*        0 *         1 * 95619.438 * -0.564450 * 81161.720 * -0.107315 *
*        1 *         3 * 47771.823 * 1.7002637 * 20069.929 * 0.4099104 *
*        2 *         4 * 58382.812 * 0.4399697 * 56662.647 * -0.958044 *
*        3 *         6 * 51766.811 * -1.078743 * 32097.457 * -1.689256 *
*        4 *        10 * 69664.932 * 0.5761168 * 36315.792 * -0.031526 *
*        5 *        11 * 55025.081 * -0.813290 * 48745.853 * -0.285057 *
*        6 *        16 * 54641.780 * 1.1936298 * 29722.761 * 0.1187076 *
*        7 *        19 * 62080.200 * -1.696432 * 31237.388 * -1.350311 *
*        8 *        21 * 114952.54 * 0.1762699 * 34672.977 * 0.5478904 *
*        9 *        23 * 109366.93 * -1.399320 * 97440.391 * -0.921300 *
*       10 *        24 * 50983.173 * 1.6566625 * 23473.129 * 1.9141296 *
*       11 *        25 * 178793.99 * -0.127727 * 65759.277 * -0.983641 *
*       12 *        28 * 86498.603 * 1.2834656 * 51395.450 * 0.7653285 *
*       13 *        29 * 68664.550 * 1.1709669 * 45299.564 * 0.8375054 *
*       14 *        30 * 198347.13 * 0.3910346 * 58193.897 * -0.346949 *
*       15 *        31 * 59627.224 * -0.815979 * 38522.293 * -0.782113 *
*       16 *        33 * 76850.654 * -0.928892 * 31636.299 * -0.653065 *
*       17 *        35 * 128814.56 * -0.873090 * 41355.789 * 2.3431582 *
*       18 *        36 * 81337.417 * 2.4125900 * 31527.425 * 2.3968567 *
*       19 *        37 * 71886.787 * 0.5990429 * 41835.266 * -2.120939 *
*       20 *        39 * 60514.583 * 0.6407112 * 32092.197 * 1.5275182 *
*       21 *        41 * 84094.207 * 0.8324434 * 63458.736 * 0.0581189 *
*       22 *        42 * 51541.263 * 0.9128297 * 36517.215 * 0.3193244 *
*       23 *        43 * 47993.831 * 0.4865719 * 44290.351 * -1.010752 *
*       24 *        44 * 27069.101 * -0.949719 * 26907.339 * -1.011615 *
*       25 *        45 * 153347.47 * 0.2131102 * 49012.256 * -0.172546 *
*       26 *        46 * 54276.584 * -0.200806 * 31135.646 * -1.127707 *
*       27 *        47 * 138657.91 * -0.223761 * 91776.069 * 0.5214113 *
*       28 *        48 * 39180.717 * -2.278843 * 22199.794 * -0.799239 *
*       29 *        49 * 94624.893 * -2.139678 * 45535.656 * -2.002133 *
*       30 *        50 * 87447.853 * -1.064825 * 42510.696 * -1.316671 *
{% endhighlight %}

{% highlight sh %}
TRUTHDAOD jets
***********************************************************
*    Row   * Instance * EventInfo * AntiKt4Tr * AntiKt4Tr *
***********************************************************
*        0 *        0 *         0 * 95619.437 * -0.564450 *
*        0 *        1 *         0 * 81161.726 * -0.107315 *
*        0 *        2 *         0 * 5842.2919 * -2.231831 *
*        0 *        3 *         0 * 5317.1752 * -1.888138 *
*        1 *        0 *         0 * 60697.234 * 1.7458726 *
*        1 *        1 *         0 * 21325.242 * 3.3504548 *
*        1 *        2 *         0 * 10533.277 * 2.5811593 *
*        1 *        3 *         0 * 9525.5888 * 2.2138798 *
*        1 *        4 *         0 * 7646.8149 * -2.073031 *
*        1 *        5 *         0 * 6710.2607 * -4.392134 *
*        1 *        6 *         0 * 6265.1894 * 2.0036082 *
*        2 *        0 *         0 * 47771.824 * 1.7002637 *
*        2 *        1 *         0 * 20069.929 * 0.4099104 *
*        2 *        2 *         0 * 17050.884 * 1.6796519 *
*        2 *        3 *         0 * 13296.936 * 2.3199164 *
*        2 *        4 *         0 * 7405.9931 * 3.2522587 *
*        2 *        5 *         0 * 7149.1142 * 2.9668126 *
*        2 *        6 *         0 * 5480.1064 * 1.6205971 *
*        3 *        0 *         0 * 58382.812 * 0.4399697 *
*        3 *        1 *         0 * 56662.648 * -0.958044 *
*        3 *        2 *         0 * 8177.5083 * 0.0952794 *
*        3 *        3 *         0 * 6725.3173 * -2.840110 *
*        3 *        4 *         0 * 6050.9355 * -3.226393 *
*        3 *        5 *         0 * 5938.2177 * 4.4696846 *
*        3 *        6 *         0 * 5598.3837 * 1.7335447 *
*        3 *        7 *         0 * 5588.6440 * -2.244199 *
*        4 *        0 *         0 * 111459.60 * -1.890346 *
*        4 *        1 *         0 * 66989.281 * -3.267955 *
*        4 *        2 *         0 * 58305.714 * -3.107010 *
*        4 *        3 *         0 * 19962.289 * -3.366006 *
*        4 *        4 *         0 * 13915.561 * 2.5033011 *
*        4 *        5 *         0 * 7830.6689 * -0.455691 *
*        4 *        6 *         0 * 6756.5102 * 1.7076833 *
*        4 *        7 *         0 * 5557.4731 * 0.9128074 *
*        5 *        0 *         0 * 51766.812 * -1.078743 *
*        5 *        1 *         0 * 32097.459 * -1.689256 *
*        5 *        2 *         0 * 15294.395 * -2.391642 *
*        5 *        3 *         0 * 11289.845 * 1.4950412 *
*        5 *        4 *         0 * 10382.897 * 1.7665406 *
*        5 *        5 *         0 * 8708.4169 * 2.6065459 *
*        5 *        6 *         0 * 8320.2431 * -0.750116 *
*        5 *        7 *         0 * 8054.5522 * 0.8573129 *
*        5 *        8 *         0 * 7014.7524 * -0.209030 *
*        5 *        9 *         0 * 6631.1084 * -3.173136 *
*        5 *       10 *         0 * 6435.3598 * -0.557720 *
*        5 *       11 *         0 * 6271.2802 * -0.416771 *
*        5 *       12 *         0 * 5931.2988 * 3.1248571 *
*        5 *       13 *         0 * 5867.2348 * -1.257823 *
*        5 *       14 *         0 * 5821.7973 * -1.245562 *
*        5 *       15 *         0 * 5689.0058 * -1.465563 *
{% endhighlight %}
